<!DOCTYPE html>
<html>
    <head>
        <title> lab 11  menu xml</title>
    </head>

    <style>
        table, th, td{
            border: 1px solid black;
            border-collapse: collapse;
        }

        th, td{
            padding: 5px;
        }
    </style>

    <body>
        <h2>Food menu</h2>
        <button onclick="loadMenu()">Show the Menu</button>

        <br>
        <br>

        <table id="menu"></table>

        <br>

        <!-- <button onclick="makeOrder()">Make an order</button> -->

        <table id="updmenu"></table>

        <script>
            function loadMenu(){
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function(){
                    if (this.readyState ==  4 && this.status == 200){
                        myFunction(this);
                    }
                };
                xhttp.open("GET", "simple.xml", true);
                xhttp.send();

                var button = document.createElement("button");
                button.innerHTML = "Make an order";
                document.body.appendChild(button);

                button.onclick = function() {
                    makeOrder
                }
            }
            function myFunction(xml){
                var i;
                var xmlDoc = xml.responseXML;
                var table="<tr><th>name</th><th>price</th><th>description</th><th>calories</th></tr>";
                var x = xmlDoc.getElementsByTagName("food");
                for (i = 0; i < x.length; i++){
                    table += "<tr><td>" + x[i].getElementsByTagName("name")[0].childNodes[0].nodeValue +
                        "</td><td>" + x[i].getElementsByTagName("price")[0].childNodes[0].nodeValue +
                        "</td><td>" + x[i].getElementsByTagName("description")[0].childNodes[0].nodeValue +
                            "</td><td>" + x[i].getElementsByTagName("calories")[0].childNodes[0].nodeValue +
                        "</td></tr>";
                }
                document.getElementById("menu").innerHTML = table;

            }

            function makeOrder(){
                
            }
        </script>
    </body>
</html>
